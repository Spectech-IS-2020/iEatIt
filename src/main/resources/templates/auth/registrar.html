<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
    <title>Spring Security Example </title>
</head>
<body>
<h1>Register:</h1>
<form action="/registrar" th:object="${formRegistro}" method="POST" enctype="utf8">
    <div>
        <label>Email</label>
        <input type="email" th:field="*{email}" required>
    </div>
    <div>
        <label>Password</label>
        <input id="password" required th:field="*{contrasenia}" type="password">
    </div>
    <div>
        <label>Confirm password</label>
        <input id="passwordConf" onkeyup="checkMatchPassword()" required th:field="*{confContrasenia}" type="password">
    </div>
    <div>
        <label>Nombre</label>
        <input type="text" th:field="*{nombre}" required>
    </div>
    <div>
        <label>Apellido Paterno</label>
        <input type="text" th:field="*{apellidoPaterno}" required>
    </div>
    <div>
        <label>Apellido Materno</label>
        <input type="text" th:field="*{apellidoMaterno}" required>
    </div>
    <div>
        <label>Dirección</label>
        <input type="text" th:field="*{direccion}" required>
    </div>
    <button type="submit">Register</button>
</form>

<a th:href="@{/login}">Login</a>

<script type='text/javascript'>
    function checkMatchPassword() {
        const passwordConf = document.getElementById('passwordConf');
        const password = document.getElementById('password');
        if (password.value !== passwordConf.value) {
            passwordConf.setCustomValidity('Las contraseñas no coinciden.');
        } else {
            passwordConf.setCustomValidity('');
        }
    }
</script>
</body>
</html>
